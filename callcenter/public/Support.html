<!DOCTYPE html>
<html>
<head>

    <meta name='description' content='Master' />
    <meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1'>

    <base target='_blank'>

    <title>Random Web Page</title>

    <!-- <link rel='stylesheet' href='css/main.css' /> -->

</head>


  <style>
  img.silhouette {
    display: block;
    margin-top: 1em;
    margin-left: auto;
    margin-right: auto
  }
  

  #copyright {
    height: 1em;
    text-align: center;
    font-style: italic;
    font-size: 0.725em;
    font-family: sans-serif;
    margin-top: 0.25em;
  }
  
  #support {
    float:right;
    display:inline;
    width:265px;
    height: 290px;
    margin-left: 1em;
    border: 1px dotted black;
    padding: 1em;
  }
  
  #spinner {
	  margin-top: 0.25em;
	  display: none;
  }
  
  </style>
<body>

<div id='support'>
  <div align=center>Confused? Get help online.</div>
    <div id="videoDiv" align='center'>
        <img class='silhouette' id='image' src='Images/support.jpg' style="display:block" width='50%' />
        <video class='silhouette' id="video" autoplay muted style="display:none" width="250"/>
        <audio id="audio" autoplay style="display:none"/>
    </div>
  <table>
    <tr>
      <td>Name:</td>
      <td><input type='text' id='name' width='100%' value="Sagar Joglekar"></td>
    </tr>
    <tr>
      <td>Description:</td>
      <td><textarea id='desc'>What is XOR?</textarea></div>
    </tr>
    <tr>
      <td colspan='2' align='center'>
		  <div id='start' ><button onclick='onSupportRequestedAction()'>Contact Support</button></div>
		  <div id='spinner'><img src='Images/spinner.gif'/></div>
	  </td>
    </tr>
  </table>
</div>
<div id='main'>
<h2>SBCH-2 Team 1: Impromptu Call Center</h2>

 <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ultrices est libero, et ultrices lorem bibendum congue. Curabitur eget turpis eget nisl tincidunt pulvinar. Vestibulum elementum vitae turpis vitae consectetur. Ut at massa venenatis, malesuada justo et, scelerisque tellus. Phasellus metus sem, pulvinar vel quam eget, lacinia auctor magna. Nunc orci leo, laoreet a velit eget, mattis hendrerit lacus. Nulla vel justo vitae arcu facilisis mollis vitae vitae ipsum. Duis erat justo, gravida ut fringilla sit amet, tincidunt et leo. Fusce dui lorem, condimentum a consectetur at, molestie ac metus. Pellentesque et vulputate tortor. Aliquam erat volutpat. Cras dapibus felis at quam blandit porttitor et nec erat.

<p>Quisque tempus turpis in arcu iaculis, vitae convallis erat blandit. Proin interdum euismod odio a sodales. Fusce a commodo nunc, et pretium ligula. Nullam feugiat lectus vitae massa lobortis tincidunt. Sed pretium vestibulum justo in interdum. Quisque lorem nibh, sodales sit amet aliquam ut, rutrum eu libero. Etiam arcu augue, luctus sed massa et, auctor mattis enim. Nunc sapien massa, congue a dignissim in, porta vulputate libero.

<p>Nulla facilisi. Nulla sit amet urna quis arcu elementum interdum nec fermentum felis. Aenean at nibh in sem vehicula varius vitae quis quam. Vivamus pretium purus vitae nunc congue mattis. Pellentesque quis massa enim. Morbi sed justo libero. Mauris ut tellus elit. Fusce a quam quis arcu lacinia sagittis in id nisl. Vestibulum libero velit, blandit ac arcu vitae, laoreet commodo augue. Morbi ultrices id augue vel egestas. Morbi dapibus tempor ligula sit amet interdum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nam commodo ipsum justo, non ornare justo bibendum consectetur. Aliquam porta nisl felis, in tempus ligula hendrerit eu. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

<p>Donec nec enim quis arcu imperdiet consectetur nec sit amet lectus. Proin euismod quam porta laoreet dignissim. Donec nec nulla ac dolor bibendum tempus quis at neque. Aenean a ipsum leo. Ut commodo lacinia justo, ac elementum enim rhoncus sit amet. Fusce ultricies tempus leo, pharetra dapibus justo pellentesque et. Nullam adipiscing mi sollicitudin placerat consectetur. Nullam aliquam dui sapien, non tempor tellus ultrices at. Ut adipiscing vel justo eget condimentum. Phasellus et sodales tellus. Nulla et volutpat ante, eget hendrerit lectus. Quisque venenatis, tortor non consectetur malesuada, tortor nisl ullamcorper purus, quis congue dolor dolor ut massa. Phasellus eu sodales tortor, nec euismod nisl. Aenean eget porta justo. Suspendisse nec condimentum ligula. Quisque lacinia leo dolor, in malesuada dolor varius quis.

<p>Sed pharetra, ante vitae semper malesuada, dolor justo aliquam quam, eget fermentum nunc quam ut sem. Suspendisse hendrerit metus nec sollicitudin suscipit. Curabitur lobortis, mauris sit amet mollis egestas, leo magna elementum sem, et faucibus eros ante eu felis. Morbi gravida, orci nec hendrerit pharetra, massa arcu auctor magna, et molestie urna sapien id velit. Nullam interdum, sem eget suscipit pretium, sem ligula hendrerit ipsum, iaculis vestibulum arcu sem id est. Curabitur vitae tellus vel diam posuere auctor. Morbi ultricies in velit nec dignissim. Fusce elit quam, iaculis ut posuere quis, tristique vel ante. Proin pretium in tellus vitae sodales.

<p>Donec nec mauris felis. Nullam vitae turpis fringilla, malesuada urna id, commodo elit. Morbi pellentesque urna quis metus faucibus porttitor. Cras egestas, justo eget luctus interdum, justo nisi ultricies diam, a molestie ipsum turpis et est. Morbi posuere molestie magna. Nulla tempor blandit odio, nec adipiscing urna laoreet vel. Suspendisse potenti. Mauris pellentesque nisi tellus, eget consequat nulla sodales convallis. Integer a nunc sed mi posuere convallis ac in arcu. Curabitur bibendum pretium nisi sed ornare.

<p>Morbi sagittis urna diam, eget posuere risus consectetur quis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras at luctus mi. Nullam dapibus tempor consequat. Curabitur congue metus ut mi aliquam bibendum. Vestibulum vitae scelerisque turpis. Nulla cursus feugiat libero, sit amet scelerisque justo sagittis quis. Nam egestas tincidunt cursus. Etiam facilisis iaculis rhoncus. Sed vulputate, enim nec cursus viverra, tellus eros aliquet diam, eget malesuada ante erat sed odio. Vivamus mattis turpis quam, sed placerat eros tristique et. Donec egestas tortor leo, vitae dignissim magna dictum id. Cras vestibulum laoreet ipsum, eu feugiat sapien. Integer pharetra quam sed mauris condimentum vulputate.

<p>Morbi a eleifend dolor. Vestibulum porttitor non turpis vitae pellentesque. Phasellus eleifend est et convallis cursus. Cras sit amet ultricies tellus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque facilisis dignissim elit et iaculis. Sed molestie enim vel tellus volutpat, vel sagittis tortor posuere.

<p>Donec tempus lacus ac felis tristique pharetra. Sed dignissim enim a nisi egestas fermentum. Vivamus eleifend, ligula non bibendum mattis, eros nisl molestie est, et lacinia elit neque ac ipsum. Fusce vitae erat quis lacus facilisis adipiscing. Cras nec diam justo. Cras metus erat, dignissim vel tristique ac, ultricies id turpis. Mauris ut convallis erat. Nullam mollis dolor magna, id interdum nulla aliquet nec. Suspendisse adipiscing non massa ac tempor. Maecenas dignissim nec quam vitae auctor. Mauris ornare, urna id sollicitudin mollis, risus lacus varius libero, eget lobortis nisi lacus in augue. Nulla in pretium tortor.

<p>Sed ut sem id massa pulvinar semper. Integer rhoncus, arcu ut rhoncus pharetra, ligula sapien vulputate erat, a viverra nisl est eget eros. Vestibulum vel leo placerat, consequat nunc quis, fringilla risus. Suspendisse in purus vitae nibh auctor auctor id vitae leo. Vivamus vitae vestibulum libero. Donec eu turpis in enim pulvinar tempus. Vestibulum mollis nisi condimentum mauris lacinia, non tincidunt massa vehicula. Proin ullamcorper elit eu nulla imperdiet, eget lacinia quam varius. Donec at fermentum turpis, id congue metus. Fusce at luctus orci. Phasellus ultricies consequat hendrerit. Praesent interdum porta justo, ut cursus sapien hendrerit eget. Donec hendrerit faucibus orci et interdum. Nulla consectetur mi id ultricies bibendum.

<p>Mauris eu facilisis mauris, quis pharetra risus. Maecenas facilisis nisi nec arcu bibendum, eu semper ipsum faucibus. Proin risus leo, adipiscing viverra laoreet et, lobortis ac nisi. Phasellus feugiat purus sit amet justo vulputate, sit amet scelerisque ante hendrerit. Sed facilisis porttitor nisi, non elementum odio cursus sed. Ut non nunc at tellus molestie sollicitudin. Ut consequat tellus nec lectus tristique rutrum. Curabitur fermentum odio in nibh euismod tincidunt. Nulla nec arcu sed urna eleifend egestas ac vel leo. Ut varius feugiat justo, eget rhoncus arcu bibendum at. Aenean ullamcorper, diam eu pellentesque facilisis, turpis quam ultrices enim, id elementum magna sapien et elit. Quisque consectetur, est quis dapibus luctus, diam nisi ultrices neque, in convallis velit sem eget justo. Pellentesque justo purus, molestie faucibus congue et, congue eget erat. Morbi rhoncus, neque et sollicitudin iaculis, tellus purus placerat enim, sed rhoncus urna elit vitae sapien.

<p>Duis tincidunt porta odio, at interdum ligula dictum eu. Suspendisse suscipit tortor a urna elementum elementum. Phasellus vitae lacus interdum, rutrum diam vitae, hendrerit est. Maecenas ut risus blandit, imperdiet nisl facilisis, congue urna. Aliquam scelerisque nibh in risus varius, eget ultrices leo faucibus. Phasellus gravida mi at iaculis imperdiet. Sed lacinia dictum velit sit amet adipiscing. Sed adipiscing eros vel odio feugiat tempus eu dignissim eros. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut condimentum a felis et bibendum. Suspendisse potenti. Quisque ultricies, lorem eu posuere commodo, arcu nunc pharetra erat, in porta sem lacus eget erat. Phasellus vitae eros a tellus malesuada dapibus. Integer lacus diam, adipiscing nec ligula eget, interdum volutpat lorem. Ut quis lectus id quam molestie rhoncus.

<p>Aenean porta, eros vitae mollis venenatis, elit nulla placerat nulla, non dictum nibh lacus a urna. Nunc ac velit at justo imperdiet vulputate. Nullam mollis tellus sed tortor tincidunt, et tristique orci lobortis. Nullam ultricies fringilla pharetra. In cursus lacus vel pharetra mollis. Nullam convallis dolor ac urna egestas, in consectetur sapien consequat. Nullam turpis nisl, sollicitudin in turpis malesuada, posuere vulputate velit. Nulla mattis, risus venenatis suscipit iaculis, odio nunc dapibus nulla, eget mollis massa quam quis arcu. Donec faucibus eu tellus sed condimentum. Maecenas pharetra dolor sed aliquam lacinia.

<p>Sed ligula tellus, pretium sit amet quam sed, auctor euismod diam. Maecenas sodales faucibus fermentum. Curabitur pharetra aliquam quam, sit amet sagittis arcu auctor et. Donec varius eget lorem non ornare. Nam ut libero eu nisl bibendum sodales non sit amet nunc. Aenean volutpat, sem non ultricies pretium, purus lectus gravida metus, vitae vestibulum erat mauris pretium odio. Curabitur elementum condimentum lacinia. Aenean in blandit est. Curabitur risus nunc, pulvinar vel tortor ac, bibendum egestas libero. Aliquam nec eleifend turpis.

<p>Pellentesque eget nulla tellus. Mauris fringilla leo erat, sed pretium turpis semper id. Etiam pulvinar mattis iaculis. Aliquam condimentum vitae enim a scelerisque. Sed porta et neque sit amet egestas. Suspendisse adipiscing eros ipsum, in pretium metus aliquam a. Cras at ipsum a est feugiat aliquet a a est. Fusce tempus purus at erat elementum, eget porttitor mi facilisis. Duis mattis neque sit amet libero volutpat porttitor. Praesent vestibulum eros quam, lacinia pellentesque ligula blandit nec.

Nunc blandit mauris eu viverra elementum. Nam pellentesque arcu in diam sagittis, in faucibus dolor molestie. Nullam pellentesque dui eget elementum fermentum. Morbi orci odio, feugiat nec bibendum quis, venenatis et quam. Nam eleifend ligula a leo fermentum mattis. Integer nec consequat orci. Cras eu massa dictum, sollicitudin felis ut, facilisis purus. Aliquam consequat orci non tortor venenatis molestie. Nunc tincidunt augue ut lectus volutpat luctus. Vestibulum tristique ac lorem ut placerat. Sed eu sapien id dolor mollis elementum. Donec eu molestie nunc, porta auctor nulla. Integer posuere posuere vehicula.

<p>Nullam pretium ante sed nisi ornare auctor. Maecenas leo orci, laoreet ac vulputate sit amet, scelerisque et mauris. Praesent vitae vestibulum quam, vitae fringilla nulla. Aenean facilisis mollis cursus. Nunc odio eros, tincidunt vel ipsum in, convallis ornare felis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur imperdiet pellentesque bibendum. Nulla lobortis felis vel est lobortis elementum. Sed scelerisque dolor sit amet magna molestie, a molestie arcu volutpat. Nulla auctor gravida nisl vel placerat.

<p>Maecenas quam quam, cursus dignissim diam sit amet, semper semper turpis. Aliquam facilisis porta urna. Pellentesque blandit porta enim. Phasellus dui dui, blandit eget augue ac, bibendum cursus orci. Duis tempor diam tellus, dapibus hendrerit lorem consequat at. Vivamus iaculis leo magna, sed condimentum arcu accumsan eu. Ut pulvinar nibh rhoncus auctor bibendum. Duis varius luctus nunc id ullamcorper. Proin id odio vel urna pharetra pulvinar ac quis ligula. Integer nunc tellus, volutpat eget fringilla at, hendrerit non est. In vehicula commodo sem, vel feugiat urna ultricies id. Phasellus consequat ligula lacus, et gravida lorem imperdiet quis. Vivamus pulvinar, leo ac porttitor fermentum, felis nibh lacinia lacus, non ullamcorper nulla erat at ante. Vestibulum sapien neque, blandit at lacus eget, facilisis iaculis ante.

<p>Mauris lacinia, urna ac pellentesque semper, orci orci porta velit, nec ultricies erat dui vitae urna. Aenean sed arcu nec enim lacinia iaculis quis eget dolor. Quisque egestas tempor nulla sit amet gravida. Mauris at urna erat. Nam et fringilla velit, vitae suscipit urna. Donec sagittis eget felis at laoreet. Etiam hendrerit dui vel risus porta, sit amet sollicitudin leo tincidunt. Aliquam blandit tincidunt neque eget porttitor. Praesent quis mi et metus vulputate dignissim. Duis in massa blandit, ultricies lectus in, tempor urna.

<p>Sed vestibulum gravida leo ut consectetur. Suspendisse velit diam, viverra a mi sit amet, interdum aliquam nisi. Nunc sed nunc a elit accumsan vehicula quis id ante. Phasellus consequat nibh orci, eu scelerisque arcu iaculis quis. In non vulputate diam, adipiscing commodo libero. Aliquam erat volutpat. Sed interdum iaculis nisi, vel elementum velit tincidunt ac. Nunc lacinia turpis in quam semper aliquet vel sit amet ipsum. Vivamus eu malesuada enim, et tempor leo.</p></div>

<div id='copyright'>&copy Copyright 2014. All Righs Reserved. Xor Masters: Mastering Xor Since Last Week</div>

</body>

<script src="https://cdn.firebase.com/v0/firebase.js"></script>
<script src="Lib/require.js"></script>
<script src="Lib/jquery-2.1.0.js"></script>

<script>
$( document ).ready(function() {
     console.log('Document Ready!');
});
    var modClient = undefined;
    var supportClient = undefined;
	var callCenterName = "gcs-call-center";
	
    window.onbeforeunload = function (e) {
        if (supportClient != undefined) {
            supportClient.hangup();
            supportClient = undefined;
        }
    };

    require(["Client"], function (modClientArg) {

        modClient = modClientArg;

        //This function will be called when all the dependencies
        //listed above are loaded. Note that this function could
        //be called before the page is loaded.
        //This callback is optional.
    });

    function requestSupport(supportContent) {
        if (supportClient != undefined) {
            console.log('Support session already in progress.');
            return;
        }

        supportClient = modClient.createClient(supportContent, callCenterName);

        supportClient.on('remoteStreamAdded', function (stream) {
			$('#image').hide();
			$('#spinner').hide();
			
			$('#video').attr('src', URL.createObjectURL(stream)).show();						
			$('#audio').attr('src', URL.createObjectURL(stream));
					
			$('#start').show();
			$('#start button:first').html("End Support Call");
			$('#start button:first').attr("onclick", "onSupportEnd()");
        });

        supportClient.on('remoteStreamRemoved', function (stream) {
            $('#video').attr('src', null).hide();
            $('#image').show();
        });

		supportClient.on('localStreamError', function(error){
			console.error('Unable to connect to local media', error);
			
			$('#spinner').hide();
			$('#start').show();
			
			alert('Unable to get access to camera and mic, please be sure both are connected: ' + JSON.stringify(error));
		});
		
		supportClient.on('disconnected', function(session) {
			if(supportClient == undefined) {
				return;
			}
			
			$('#image').show();
			
			$('#video').attr('src', null).hide();
			$('#audio').attr('src', null);
			
			supportClient.hangup();
			
			$('#start').show();
			$('#start button:first').html('Contact Support');
			$('#start button:first').attr('onclick', 'onSupportRequestedAction()');
			
			supportClient = undefined;
		});
		
        supportClient.requestSupport();
    }

    function onSupportRequestedAction() {
        var clientName = $("#name").val();
        var description = $("#desc").val();
		
		$('#start').hide();
		$('#spinner').show();
		
        var supportContent = {
            name: clientName,
            summary: description
        };

        requestSupport(supportContent);
    }
	
	function onSupportEnd() {
		$('#start button:first').html("Contact Support");
		$('#start button:first').attr('onclick', 'onSupportRequestedAction()');
		
		supportClient.hangup();
	}

</script>

</html>


